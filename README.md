# UGSオンラインスクール プラットフォーム

**FPの成長を一気通貫でサポートする統合プラットフォーム**

「学び → 実践 → 自立」の3ステップを1つのシステムで実現。教育から報酬管理まで、FPとして成長するために必要なすべてがここにあります。

## 🎯 プロジェクト概要

UGSオンラインスクールは、**教育・昇格・報酬管理・イベント運営を一体化**したFP育成プラットフォームです。

### 解決する課題
- ✅ 学習から実践までの**シームレスな成長体験**
- ✅ 明確な**昇格基準と自動判定**による透明性の確保
- ✅ **リアルタイムな報酬管理**でモチベーション維持
- ✅ ロール別の**最適化されたダッシュボード**で迷わない

### 特徴
- 🎓 **体系的な教育コンテンツ**: 3カテゴリ×2レベルの段階的学習
- 📈 **成長の可視化**: 現在地と次のステップが一目瞭然
- 🏆 **透明な昇格システム**: 条件を満たせば誰でも上を目指せる
- 💰 **明確な報酬管理**: 頑張りが数字で見える

## 🌱 ユーザーの成長フロー

```
1️⃣ UGS会員（学習フェーズ）
   ↓ 基礎編を学習
   ↓ 基礎テスト合格
   ↓ LP面談・アンケート完了

2️⃣ FPエイド（実践フェーズ）
   ↓ 実践編で深く学ぶ
   ↓ 報酬実績を積む（月平均7万円以上）
   ↓ 紹介活動を行う（UGS会員8名、FP4名）
   ↓ 契約実績を達成（直20被保）

3️⃣ マネージャー（自立フェーズ）
   ↓ チーム運営・育成

4️⃣ 運営（管理フェーズ）
```

**各段階で必要なアクションが明確**に示され、**次に何をすべきか迷いません**。

## ✨ 主な機能

### 🔐 認証・ロール管理

**4つのロールで段階的な成長をサポート**

| ロール | 対象 | できること |
|--------|------|-----------|
| 🎓 UGS会員 | 初学者 | 基礎編学習、昇格準備 |
| 💼 FPエイド | 実践者 | 実践編学習、報酬管理、紹介活動 |
| 👔 マネージャー | リーダー | チーム管理、高度な機能 |
| ⚙️ 運営 | 管理者 | 全機能へのアクセス、承認・管理業務 |

- ロール別の最適化されたダッシュボード
- 安全なSupabase認証システム
- きめ細かいアクセス権限管理

### 📚 教育システム

**段階的に学べる体系的なカリキュラム**

| カテゴリ | 基礎編（UGS会員） | 実践編（FPエイド以上） |
|---------|------------------|---------------------|
| 💵 所得を増やす | 基本的な金融知識 | 実践的な提案スキル |
| 🌟 生き方を豊かにする | ライフプラン基礎 | 深いカウンセリング術 |
| 🚀 スタートアップ支援 | 起業の基本 | ビジネス実践支援 |

**学習サポート機能**
- ✅ **進捗管理**: どこまで学んだか一目でわかる
- 🔒 **ロック機能**: ロールに応じて教材が段階的に解放
- 🎥 **動画教材**: わかりやすい映像コンテンツ
- 📄 **PDF資料**: いつでも復習できるダウンロード教材

### 🏆 昇格システム

**明確な基準と透明なプロセスで、誰でも上を目指せる**

#### 🎓 UGS会員 → 💼 FPエイド昇格

**申請前の条件（3つすべて必要）**
1. ✅ **基礎テスト合格**: 学んだ知識の確認
2. ✅ **LP面談完了**: FPとしての心構えを確認
3. ✅ **アンケート提出**: 今後の目標設定

**承認後の手続き（3つすべて必要）**
1. 📄 **業務委託契約書への同意**: 契約内容の確認と同意
2. 🆔 **身分証のアップロード**: 本人確認書類の提出
3. 🎥 **FPオンボーディング動画の視聴**: FPエイド業務のガイダンス（90%以上視聴で完了）

**昇格の流れ**
```
条件達成 → 申請（PENDING） → 管理者承認（APPROVED） →
承認後手続き完了 → 昇格完了（COMPLETED） → 実践編解放
```

#### 💼 FPエイド → 👔 マネージャー昇格

**昇格条件の自動判定（3つすべて必要）**
1. 💰 **報酬実績**: 直近6ヶ月平均 **70,000円以上**
2. 👥 **紹介実績**: UGS会員 **8名以上** + FPエイド **4名以上**（過去6ヶ月）
3. 📝 **契約実績**: 直20被保 **達成**

**昇格の流れ**
```
条件達成（自動判定） → ワンクリック申請 → 管理者承認 → マネージャー昇格
```

**便利な機能**
- 📊 **進捗の可視化**: 各条件の達成度が一目でわかる
- 🔔 **条件達成通知**: 申請できるタイミングをお知らせ
- 📜 **申請履歴**: 過去の申請状況を確認
- 💬 **却下理由の表示**: 不承認の場合も理由が明確

### 💰 報酬管理

**頑張りが見える、モチベーションが上がる**

**ダッシュボード機能**
- 📊 **今月の報酬**: リアルタイムで確認
- 📈 **過去の推移**: グラフで成長を実感
- 🔍 **詳細な内訳**:
  - UGS会員紹介報酬
  - FPエイド紹介報酬
  - 契約報酬
  - ボーナス・控除

**管理機能**
- 🏦 **振込口座登録**: 安全に口座情報を管理
- 📄 **明細ダウンロード**: PDF・CSV形式で出力可能
- 📅 **月次レポート**: 自動生成される詳細レポート
- 🎯 **昇格条件の進捗**: 報酬実績がマネージャー昇格に反映

### 📅 イベント管理

**学びと交流の場を効率的に運営**

**イベント種類**
- 🔴 **必須イベント**: 月初MTGなど参加必須の集まり
- 🟢 **任意イベント**: スキルアップセミナーなど自由参加
- 🟡 **マネージャー限定**: リーダー向け特別イベント

**機能**
- 📝 **ワンクリック登録**: 簡単に参加表明
- ✅ **出欠管理**: 参加状況を一元管理
- 🔔 **リマインダー**: 開催前の自動通知
- 📊 **参加履歴**: 過去のイベント参加状況を確認

### 🔔 通知システム

**必要な情報を、必要なタイミングで**

**通知の種類**
| 優先度 | 種類 | 例 |
|--------|------|-----|
| 🔴 高 | アクション必須 | 「LP面談の日程調整が必要です」 |
| 🟡 中 | 情報通知 | 「新しい教材が追加されました」 |
| 🟢 低 | 達成通知 | 「基礎テストに合格しました！」 |

**便利な機能**
- 💬 **次のアクション表示**: 通知から次に何をすべきか明確
- ✅ **既読管理**: 未読通知を見逃さない
- 🎯 **カテゴリ分類**: 昇格、報酬、イベントなど種類別に整理

### 👨‍💼 管理者機能

**運営を効率化する強力な管理ツール**

#### 📋 昇格申請管理
- 🏷️ **タブ切り替え**: FPエイドとマネージャー申請を分離表示
- 📊 **一覧表示**: 申請状況を一目で把握
- ✅ **承認処理**: ワンクリックで承認
- ❌ **却下処理**: 理由を付けて却下（ユーザーに自動通知）
- 📈 **統計情報**: 審査待ち・承認済み・却下の件数表示

#### 💵 報酬管理
- 🤖 **自動生成**: 月次報酬を自動計算・生成
- ✅ **承認フロー**: 生成された報酬の内容確認・承認
- 💳 **支払い管理**: 支払い済みステータスの管理
- 📊 **レポート**: 全ユーザーの報酬状況を一覧表示

#### 📅 イベント管理
- ➕ **イベント作成**: 対象ロール・開催形式を設定
- ✏️ **編集・削除**: 既存イベントの変更
- 👥 **参加者管理**: 誰が参加予定か確認
- 📧 **通知配信**: イベント情報を対象者に一斉通知

#### 👤 ユーザー管理
- 🔄 **ロール変更**: ユーザーのロールを手動で変更
- 🔍 **検索・フィルター**: 条件でユーザーを絞り込み
- 📊 **ユーザー統計**: ロール別の人数推移

#### 📚 教材管理
- ⬆️ **アップロード**: 動画・PDFファイルの安全なアップロード
- 🔒 **権限設定**: どのロールが閲覧可能かを設定
- ✏️ **編集・削除**: 教材の更新・削除
- 📂 **カテゴリ管理**: 教材の分類・整理

## 🎨 デザインシステム

### カラーパレット
- **Primary**: Slate (900/800/700/600/500)
- **Background**: Slate (50/100)
- **White**: #FFFFFF
- **Accent**: Slate (700) for CTAs

### タイポグラフィ
- **Font**: Inter（Google Fonts）
- **Heading**: Inter 800 (extra bold), letter-spacing: -0.03em
- **Subheading**: Inter 700 (bold), letter-spacing: -0.02em
- **Body**: Inter 400 (regular), letter-spacing: 0.01em
- **Caption**: Inter 300 (light), letter-spacing: 0.02em

### UI要素
- **角丸**: Card (16px), Button (12px)
- **シャドウ**: Card (shadow-lg), Hover (shadow-2xl)
- **アニメーション**: 300ms ease-in-out, hover scale 1.05

## 🚀 技術スタック

### フロントエンド
- **Framework**: Next.js 15 (App Router)
- **UI**: React 19 + TypeScript
- **Styling**: Tailwind CSS 4
- **Icons**: Lucide React
- **Components**: Radix UI + shadcn/ui + カスタムコンポーネント

### バックエンド
- **Runtime**: Next.js API Routes
- **Database**: PostgreSQL (Supabase)
- **ORM**: Prisma
- **Authentication**: Supabase Auth
- **File Storage**: Supabase Storage

### 開発ツール
- **Package Manager**: npm
- **Build Tool**: Turbopack
- **Code Quality**: TypeScript, ESLint
- **Database Management**: Prisma Studio

## 📦 インストール・セットアップ

### 前提条件
- **Node.js**: 18.0.0 以上
- **npm**: 8.0.0 以上（またはyarn）
- **PostgreSQL**: Supabaseアカウント（無料プランで可）
- **Git**: バージョン管理用

### セットアップ手順

#### 1. リポジトリのクローン
```bash
git clone <repository-url>
cd school
```

#### 2. 依存関係のインストール
```bash
npm install
```

#### 3. 環境変数の設定
`.env.local` ファイルを作成し、以下の環境変数を設定：

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Database
DATABASE_URL=your_database_url
DIRECT_URL=your_direct_database_url

# その他（必要に応じて）
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

#### 4. データベースのセットアップ
```bash
# Prismaクライアントの生成
npx prisma generate

# データベースのマイグレーション
npx prisma db push

# （オプション）サンプルデータの投入
npx prisma db seed
```

#### 5. 開発サーバーの起動
```bash
npm run dev
```

#### 6. ブラウザでアクセス
```
http://localhost:3000
```

### 📝 その他の便利なコマンド

```bash
# ビルド（本番用）
npm run build

# 本番モードで起動
npm start

# Prisma Studio（データベースGUI）
npx prisma studio

# 型チェック
npm run type-check

# リント
npm run lint
```

## 🔑 デモアカウント

**各ロールの機能をすぐに体験できます！**

以下のアカウントでログインすると、それぞれのロールの機能を確認できます：

| ロール | メールアドレス | パスワード | 体験できる機能 |
|--------|----------------|------------|---------------|
| 🎓 UGS会員 | member@example.com | 123 | 基礎編学習、昇格申請 |
| 💼 FPエイド | fp@example.com | 123 | 実践編学習、報酬管理、紹介活動 |
| 👔 マネージャー | manager@example.com | 123 | チーム管理、高度な機能 |
| ⚙️ 運営 | admin@example.com | 123 | 全機能、管理画面 |

> **Tip**: 管理者アカウントでログインすると、昇格申請の承認や報酬管理など、運営側の機能も確認できます。

## 📱 レスポンシブ対応

**どのデバイスでも快適に使える**

| デバイス | 対応内容 |
|---------|----------|
| 💻 **デスクトップ** | フルサイドバー + ワイドなメインコンテンツ表示 |
| 📱 **タブレット** | 折りたたみ可能なサイドバー + タッチ最適化 |
| 📲 **モバイル** | ハンバーガーメニュー + スワイプ操作対応 |

すべてのブレークポイントで最適化されたUIを提供し、外出先でもストレスなく利用できます。

## 🗂️ プロジェクト構造

```
src/
├── app/                           # Next.js App Router
│   ├── api/                      # APIルート
│   │   ├── admin/               # 管理者用API
│   │   │   ├── compensations/  # 報酬管理
│   │   │   ├── events/         # イベント管理
│   │   │   ├── promotions/     # 昇格申請管理
│   │   │   └── materials/      # 教材管理
│   │   ├── promotions/         # 昇格関連API
│   │   ├── compensations/      # 報酬API
│   │   └── events/             # イベントAPI
│   ├── dashboard/              # ダッシュボードページ
│   │   ├── admin/             # 管理者画面
│   │   ├── promotion/         # 昇格管理
│   │   ├── compensation/      # 報酬管理
│   │   └── events/            # イベント管理
│   ├── login/                 # ログインページ
│   └── layout.tsx             # ルートレイアウト
├── components/                # Reactコンポーネント
│   ├── auth/                 # 認証関連
│   ├── ui/                   # 基本UIコンポーネント (shadcn/ui)
│   ├── dashboard/            # ダッシュボード
│   ├── promotion/            # 昇格関連
│   ├── admin/                # 管理者コンポーネント
│   └── navigation/           # ナビゲーション
├── contexts/                 # React Context (認証など)
├── lib/                      # ユーティリティ・サービス
│   ├── services/            # ビジネスロジック
│   ├── auth/                # 認証ヘルパー
│   └── utils/               # ユーティリティ関数
└── prisma/                   # Prismaスキーマ・マイグレーション
```

## 🔄 開発フロー

### 主要な開発フェーズ

1. **Phase 1 (MVP)** ✅
   - ユーザー認証・ロール管理
   - ダッシュボード（4ロール別）
   - 教材閲覧機能（基礎編）
   - 成長フロー可視化
   - FPエイド昇格機能

2. **Phase 2** ✅
   - 実践編教材解放
   - FP昇格後ガイダンス
   - 報酬管理機能（月次報酬生成、承認、支払い管理）
   - イベント機能（基本）
   - 月初MTG管理
   - マネージャー昇格機能（条件判定、申請、管理者承認・却下）
   - 昇格申請履歴表示
   - 通知システム統合

3. **Phase 3** (将来実装)
   - チーム管理機能
   - 分析ダッシュボード
   - CSV出力
   - QRコード発行
   - 学習ポイント連携

## 🎯 今後の拡張予定

- **決済システム**: Stripe統合 ✅ (実装済み)
- **ファイルストレージ**: Supabase Storage統合 ✅ (実装済み)
- **チーム管理**: ダウンライン管理、ツリー表示
- **分析ダッシュボード**: 詳細なKPI・レポート機能
- **CSV/PDFエクスポート**: 報酬明細、申請履歴の出力
- **リアルタイム通知**: プッシュ通知対応
- **モバイルアプリ**: React Native対応

## 📄 ライセンス

このプロジェクトは私的使用目的で開発されています。

## 🤝 コントリビューション

プロジェクトへの貢献を歓迎します！

- 🐛 **バグ報告**: Issueで報告してください
- 💡 **機能提案**: 新しいアイデアをお聞かせください
- 🔧 **Pull Request**: コードの改善提案を歓迎します

### 貢献の流れ
1. このリポジトリをFork
2. 新しいブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチにPush (`git push origin feature/amazing-feature`)
5. Pull Requestを作成

---

<div align="center">

**UGSオンラインスクール**

学び → 実践 → 自立を一体化したFP育成プラットフォーム

Made with ❤️ by UGS Team

</div>
